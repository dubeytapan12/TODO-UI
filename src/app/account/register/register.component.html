<div class="card logPanel">
  <article class="card-body">
    <ngb-alert
      [dismissible]="true"
      [type]="alert.type"
      (close)="closeAlert()"
      *ngIf="alert.isShowAlert"
    >
      {{ alert.message }}
    </ngb-alert>
    <h4 class="card-title text-center mb-4 mt-1">Sign up</h4>
    <hr />
    <form
      #registrationForm="ngForm"
      appCustomFieldValidator
      [firstField]="'password'"
      [secondField]="'confirmPassword'"
      (ngSubmit)="submitRegistration()"
    >
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa fa-user-md"></i>
            </span>
          </div>
          <input
            #firstName="ngModel"
            [(ngModel)]="registrationViewModel.fName"
            name="fName"
            class="form-control col-md-10"
            placeholder="First Name"
            type="email"
            required="required"
            maxlength="50"
          />
          <i
            *ngIf="firstName.touched && firstName.valid"
            class="fa fa-smile-o smile font-yellow-color"
          ></i>
          <i
            *ngIf="firstName.touched && firstName.invalid"
            class="fa fa-frown-o smile font-red-color"
          ></i>
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa fa-user-md"></i>
            </span>
          </div>
          <input
            [(ngModel)]="registrationViewModel.lName"
            name="lName"
            class="form-control col-md-10"
            placeholder="Last Name"
            type="email"
            maxlength="50"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="fa fa-user"></i>
            </span>
          </div>
          <input
            #email="ngModel"
            [(ngModel)]="registrationViewModel.email"
            name="email"
            class="form-control col-md-10"
            placeholder="Email or login"
            type="email"
            required="required"
            pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
            appAlreadyExistsValidator
            [records]="records"
          />
          <i
            *ngIf="email.touched && email.valid"
            class="fa fa-smile-o smile font-yellow-color"
          ></i>
          <i
            *ngIf="email.touched && email.invalid"
            class="fa fa-frown-o smile font-red-color"
          ></i>
        </div>
        <span
          class="text-danger"
          *ngIf="email.touched && email.invalid && email.errors?.alreadyExists"
          >Email Already Exists</span
        >
      </div>
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
          </div>
          <input
            #password="ngModel"
            [(ngModel)]="registrationViewModel.password"
            name="password"
            class="form-control col-md-10"
            placeholder="******"
            type="password"
            required="required"
            minlength="3"
            maxlength="50"
          />
          <i
            *ngIf="password.touched && password.valid"
            class="fa fa-smile-o smile font-yellow-color"
          ></i>
          <i
            *ngIf="password.touched && password.invalid"
            class="fa fa-frown-o smile font-red-color"
          ></i>
        </div>
        <span
          class="text-danger"
          *ngIf="
            password.touched &&
            password.invalid &&
            password.errors?.comareFieldValidator
          "
          >Field doesn't match</span
        >
      </div>
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
          </div>
          <input
            #confirmPassword="ngModel"
            name="confirmPassword"
            [(ngModel)]="registrationViewModel.confirmPassword"
            class="form-control col-md-10"
            placeholder="******"
            type="password"
            required="required"
            minlength="3"
            maxlength="50"
          />
          <i
            *ngIf="confirmPassword.touched && confirmPassword.valid"
            class="fa fa-smile-o smile font-yellow-color"
          ></i>
          <i
            *ngIf="confirmPassword.touched && confirmPassword.invalid"
            class="fa fa-frown-o smile font-red-color"
          ></i>
        </div>
        <span
          class="text-danger"
          *ngIf="
            confirmPassword.touched &&
            confirmPassword.invalid &&
            confirmPassword.errors?.comareFieldValidator
          "
          >Field doesn't match</span
        >
      </div>
      <div class="form-group">
        <button
          type="submit"
          [disabled]="registrationForm.invalid"
          class="btn btn-primary btn-block"
        >
          Register
        </button>
        <button type="button" class="btn btn-primary btn-block">
          Clear
        </button>
      </div>
    </form>
    <p class="text-center">
      <a class="register" href="/">Login</a>
    </p>
  </article>
</div>
